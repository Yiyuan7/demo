"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var initialTicks = [];
var preTicks = [];
var ticks = [];
var running = false;
function AddInitialTick(fn) {
    initialTicks.push(fn);
    run();
}
exports.AddInitialTick = AddInitialTick;
function AddPreTick(fn) {
    preTicks.push(fn);
    run();
}
exports.AddPreTick = AddPreTick;
function AddTick(fn) {
    ticks.push(fn);
    run();
}
exports.AddTick = AddTick;
function run() {
    if (running) {
        return;
    }
    running = true;
    tick();
}
function tick() {
    initialTicks.forEach(function (fn) { return fn(); });
    preTicks.forEach(function (fn) { return fn(); });
    ticks.forEach(function (fn) { return fn(); });
    requestAnimationFrame(tick);
}
